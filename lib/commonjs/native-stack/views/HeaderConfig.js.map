{"version":3,"names":["_native","require","React","_interopRequireWildcard","_reactNative","_reactNativeScreens","_useBackPressSubscription","_FontProcessor","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","HeaderConfig","_ref","backButtonImage","backButtonInCustomView","direction","disableBackButtonMenu","headerBackTitle","headerBackTitleStyle","headerBackTitleVisible","headerCenter","headerHideBackButton","headerHideShadow","headerLargeStyle","headerLargeTitle","headerLargeTitleHideShadow","headerLargeTitleStyle","headerLeft","headerRight","headerShown","headerStyle","headerTintColor","headerTitle","headerTitleStyle","headerTopInsetEnabled","headerTranslucent","route","searchBar","title","colors","useTheme","tintColor","primary","handleAttached","handleDetached","clearSubscription","createSubscription","useBackPressSubscription","onBackPress","executeNativeBackPress","isDisabled","disableBackButtonOverride","backTitleFontFamily","largeTitleFontFamily","titleFontFamily","processFonts","fontFamily","useEffect","processedSearchBarOptions","useMemo","Platform","OS","onFocus","_searchBar$onFocus","_len","arguments","length","args","Array","_key","onClose","_searchBar$onClose","_len2","_key2","createElement","ScreenStackHeaderConfig","backgroundColor","card","backTitle","backTitleFontSize","fontSize","backTitleVisible","blurEffect","color","hidden","hideBackButton","hideShadow","largeTitle","largeTitleBackgroundColor","largeTitleColor","largeTitleFontSize","largeTitleFontWeight","fontWeight","largeTitleHideShadow","undefined","name","titleColor","text","titleFontSize","titleFontWeight","topInsetEnabled","translucent","onAttached","onDetached","ScreenStackHeaderRightView","ScreenStackHeaderBackButtonImage","source","ScreenStackHeaderLeftView","ScreenStackHeaderCenterView","isSearchBarAvailableForCurrentPlatform","ScreenStackHeaderSearchBarView","SearchBar"],"sources":["HeaderConfig.tsx"],"sourcesContent":["import { Route, useTheme } from '@react-navigation/native';\nimport * as React from 'react';\nimport { Platform } from 'react-native';\nimport {\n  ScreenStackHeaderBackButtonImage,\n  ScreenStackHeaderCenterView,\n  ScreenStackHeaderConfig,\n  ScreenStackHeaderLeftView,\n  ScreenStackHeaderRightView,\n  ScreenStackHeaderSearchBarView,\n  SearchBar,\n  SearchBarProps,\n  isSearchBarAvailableForCurrentPlatform,\n  executeNativeBackPress,\n} from 'react-native-screens';\nimport { NativeStackNavigationOptions } from '../types';\nimport { useBackPressSubscription } from '../utils/useBackPressSubscription';\nimport { processFonts } from './FontProcessor';\n\ntype Props = NativeStackNavigationOptions & {\n  route: Route<string>;\n};\n\nexport default function HeaderConfig({\n  backButtonImage,\n  backButtonInCustomView,\n  direction,\n  disableBackButtonMenu,\n  headerBackTitle,\n  headerBackTitleStyle = {},\n  headerBackTitleVisible = true,\n  headerCenter,\n  headerHideBackButton,\n  headerHideShadow,\n  headerLargeStyle = {},\n  headerLargeTitle,\n  headerLargeTitleHideShadow,\n  headerLargeTitleStyle = {},\n  headerLeft,\n  headerRight,\n  headerShown,\n  headerStyle = {},\n  headerTintColor,\n  headerTitle,\n  headerTitleStyle = {},\n  headerTopInsetEnabled = true,\n  headerTranslucent,\n  route,\n  searchBar,\n  title,\n}: Props): JSX.Element {\n  const { colors } = useTheme();\n  const tintColor = headerTintColor ?? colors.primary;\n\n  // We need to use back press subscription here to override back button behavior on JS side.\n  // Because screens are usually used with react-navigation and this library overrides back button\n  // we need to handle it first in case when search bar is open\n  const {\n    handleAttached,\n    handleDetached,\n    clearSubscription,\n    createSubscription,\n  } = useBackPressSubscription({\n    onBackPress: executeNativeBackPress,\n    isDisabled: !searchBar || !!searchBar.disableBackButtonOverride,\n  });\n\n  const [backTitleFontFamily, largeTitleFontFamily, titleFontFamily] =\n    processFonts([\n      headerBackTitleStyle.fontFamily,\n      headerLargeTitleStyle.fontFamily,\n      headerTitleStyle.fontFamily,\n    ]);\n\n  // We want to clear clearSubscription only when components unmounts or search bar changes\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  React.useEffect(() => clearSubscription, [searchBar]);\n\n  const processedSearchBarOptions = React.useMemo(() => {\n    if (\n      Platform.OS === 'android' &&\n      searchBar &&\n      !searchBar.disableBackButtonOverride\n    ) {\n      const onFocus: SearchBarProps['onFocus'] = (...args) => {\n        createSubscription();\n        searchBar.onFocus?.(...args);\n      };\n      const onClose: SearchBarProps['onClose'] = (...args) => {\n        clearSubscription();\n        searchBar.onClose?.(...args);\n      };\n\n      return { ...searchBar, onFocus, onClose };\n    }\n    return searchBar;\n  }, [searchBar, createSubscription, clearSubscription]);\n\n  return (\n    <ScreenStackHeaderConfig\n      backButtonInCustomView={backButtonInCustomView}\n      backgroundColor={\n        headerStyle.backgroundColor ? headerStyle.backgroundColor : colors.card\n      }\n      backTitle={headerBackTitle}\n      backTitleFontFamily={backTitleFontFamily}\n      backTitleFontSize={headerBackTitleStyle.fontSize}\n      backTitleVisible={headerBackTitleVisible}\n      blurEffect={headerStyle.blurEffect}\n      color={tintColor}\n      direction={direction}\n      disableBackButtonMenu={disableBackButtonMenu}\n      hidden={headerShown === false}\n      hideBackButton={headerHideBackButton}\n      hideShadow={headerHideShadow}\n      largeTitle={headerLargeTitle}\n      largeTitleBackgroundColor={headerLargeStyle.backgroundColor}\n      largeTitleColor={headerLargeTitleStyle.color}\n      largeTitleFontFamily={largeTitleFontFamily}\n      largeTitleFontSize={headerLargeTitleStyle.fontSize}\n      largeTitleFontWeight={headerLargeTitleStyle.fontWeight}\n      largeTitleHideShadow={headerLargeTitleHideShadow}\n      title={\n        headerTitle !== undefined\n          ? headerTitle\n          : title !== undefined\n          ? title\n          : route.name\n      }\n      titleColor={\n        headerTitleStyle.color !== undefined\n          ? headerTitleStyle.color\n          : headerTintColor !== undefined\n          ? headerTintColor\n          : colors.text\n      }\n      titleFontFamily={titleFontFamily}\n      titleFontSize={headerTitleStyle.fontSize}\n      titleFontWeight={headerTitleStyle.fontWeight}\n      topInsetEnabled={headerTopInsetEnabled}\n      translucent={headerTranslucent === true}\n      onAttached={handleAttached}\n      onDetached={handleDetached}\n    >\n      {headerRight !== undefined ? (\n        <ScreenStackHeaderRightView>\n          {headerRight({ tintColor })}\n        </ScreenStackHeaderRightView>\n      ) : null}\n      {backButtonImage !== undefined ? (\n        <ScreenStackHeaderBackButtonImage\n          key=\"backImage\"\n          source={backButtonImage}\n        />\n      ) : null}\n      {headerLeft !== undefined ? (\n        <ScreenStackHeaderLeftView>\n          {headerLeft({ tintColor })}\n        </ScreenStackHeaderLeftView>\n      ) : null}\n      {headerCenter !== undefined ? (\n        <ScreenStackHeaderCenterView>\n          {headerCenter({ tintColor })}\n        </ScreenStackHeaderCenterView>\n      ) : null}\n      {isSearchBarAvailableForCurrentPlatform &&\n      processedSearchBarOptions !== undefined ? (\n        <ScreenStackHeaderSearchBarView>\n          <SearchBar {...processedSearchBarOptions} />\n        </ScreenStackHeaderSearchBarView>\n      ) : null}\n    </ScreenStackHeaderConfig>\n  );\n}\n"],"mappings":"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"}